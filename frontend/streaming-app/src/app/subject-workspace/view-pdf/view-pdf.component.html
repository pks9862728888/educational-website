<div class="d-flex">
    <div *ngIf="!mq.matches" [ngClass]="{'m-b-05': !mq.matches}">
        <button mat-flat-button class="m-r-05 blue-button" (click)="back()">Back</button>
        <button mat-flat-button *ngIf="hasSubjectPerm" class="m-r-05 green-button" (click)="toggleEditForm()">
          <span *ngIf="!showEditForm">Edit</span>
          <span *ngIf="showEditForm">Close Form</span>
        </button>
        <button mat-flat-button class="red-button" *ngIf="hasSubjectPerm" (click)="confirmDelete()">Delete</button>
    </div>
    <div *ngIf="mq.matches" class="d-flex">
        <div class="m-r-05 back-icon">
            <mat-icon (click)="back()">arrow_back_ios</mat-icon>
        </div>
        <div class="edit-icon m-r-05" *ngIf="hasSubjectPerm">
            <mat-icon (click)="toggleEditForm()">
                <span *ngIf="!showEditForm">edit</span>
                <span *ngIf="showEditForm">close</span>
            </mat-icon>
        </div>
        <div class="delete-icon" *ngIf="hasSubjectPerm">
            <mat-icon (click)="confirmDelete()">delete</mat-icon>
        </div>
    </div>
</div>
<hr class="top-separator" />
<app-ui-error-text *ngIf="errorText" [errorText]="errorText" (closeErrorTextEvent)="closeErrorText()"></app-ui-error-text>
<app-ui-success-text *ngIf="successText" [successText]="successText" (closeSuccessTextEvent)="closeSuccessText()"></app-ui-success-text>
<div *ngIf="showEditForm">
    <app-ui-edit-study-material [formEvent]="formControlEvent.asObservable()" [filledFormText]="content" [showTargetDate]="true" (formData)="edit($event)"></app-ui-edit-study-material>
</div>
<div class="m-t-1 m-b-1 heading">
    <h1 *ngIf="!mq.matches">{{ content.title | titlecase }}</h1>
    <h2 *ngIf="mq.matches">{{ content.title | titlecase }}</h2>
</div>
<ngx-extended-pdf-viewer id="pdf-viewer" [src]="content.data.file" [textLayer]="true" [showDownloadButton]="content.data.can_download" [showPrintButton]="content.data.can_download" [showBookmarkButton]="false" [filenameForDownload]="filename" useBrowserLocale="false"
    height="80vh"></ngx-extended-pdf-viewer>
<div class="m-t-1 description">
    <h3 *ngIf="!mq.matches" class="text-justify">
        Description:
        <span *ngIf="content.description">{{ content.description }}</span>
        <span *ngIf="!content.description">N/A</span>
    </h3>
    <p *ngIf="mq.matches" class="text-justify">{{ content.description }}</p>
    <br/>
    <p>Target Date:
        <span *ngIf="content.target_date">{{ content.target_date }}</span>
        <span *ngIf="!content.target_date">N/A</span>
    </p>
    <br />
    <p>Content Created On: {{ content.uploaded_on | date }}</p>
</div>
